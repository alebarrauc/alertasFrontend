<h1>Registro de Paciente</h1>

<!-- Mostrar el usuario conectado -->
<p>Usuario conectado: {{ obtenerUsuario() }}</p>

<!-- Formulario para guardar paciente -->
<form (ngSubmit)="savePatient()">
  <!-- Campo Nombre -->
  <div>
    <label for="name">Nombre:</label>
    <input
      id="name"
      [(ngModel)]="patient.name"
      name="name"
      required
      (blur)="validateField('name')"
    />
    <!-- Mensaje de error dinámico -->
    <div *ngIf="nameError" class="error-message">
      El campo Nombre es obligatorio.
    </div>
  </div>

  <!-- Campo Edad -->
  <div>
    <label for="age">Edad:</label>
    <input
      id="age"
      type="number"
      [(ngModel)]="patient.age"
      name="age"
      required
    />
  </div>

  <!-- Campo Habitación -->
  <div>
    <label for="room">Habitación:</label>
    <input
      id="room"
      [(ngModel)]="patient.room"
      name="room"
    />
  </div>

  <!-- Campo Cama -->
  <div>
    <label for="bed">Cama:</label>
    <input
      id="bed"
      [(ngModel)]="patient.bed"
      name="bed"
    />
  </div>

  <!-- Campo Fecha de Registro -->
  <div>
    <label for="registrationDate">Fecha de Registro:</label>
    <input
      id="registrationDate"
      type="date"
      [(ngModel)]="patient.registrationDate"
      name="registrationDate"
    />
  </div>

  <!-- Botón Guardar -->
  <button type="submit">Guardar Paciente</button>
</form>

<!-- Botón para llamar al backend -->
<h4><button (click)="llamarBackend()">Llamar backend</button></h4>

<!-- Mostrar respuesta del backend -->
<h4>Response backend: {{ mostrarResponseBackend() | json }}</h4>
